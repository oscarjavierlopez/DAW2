<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ejercicio 1</title>
</head>

<body>
    <script>
        let usuarios = new Map([
            ["Oscar Lopez Gomez", "oscarLG"],
            ["Pepe Lopez Gomez", "pepeLG"]
        ]);
        let opcion = 0;
        do {
            opcion = prompt("Menú: \n 1. Añadir usuario (comprobando previamente si existe o no) \n 2. Modificar usuario \n 3. Eliminar un usuario \n 4. Mostrar la colección entera de usuarios y con su nombre de usuario \n 5.salir");
            let nombre = "";
            let apellido1 = "";
            let apellido2 = "";
            let nombreApellidos = "";
            let contraseña = "";
            switch (opcion) {
                case '1':
                    nombre = prompt("Inserte nombre:");
                    apellido1 = prompt("Inserte primer apellido:");
                    apellido2 = prompt("Inserte segundo apellido:");
                    nombreApellidos = nombre + " " + apellido1 + " " + apellido2;
                    if (!usuarios.has(nombreApellidos)) {
                        alert("Tamaño: " + nombreApellidos.split("").filter((caracter) => caracter !== " ").length);
                        alert("Cadena en mayusculas: " + nombreApellidos.toUpperCase() + " Cadena en minúsculas: " + nombreApellidos.toLowerCase());
                        alert("Nombre: " + nombre + '\n'
                            + "apellido 1: " + apellido1 + '\n'
                            + "apellido 2: " + apellido2
                        );
                        let opcionContraseña = prompt(" 1. Nombre completo + Iniciales apellidos \n2. Dos iniciales de nombre y de los dos apellidos\n 3. Letra de nombre + posición ");
                        contraseña = "";
                        switch (opcionContraseña) {
                            case '1':
                                contraseña = nombre.toLowerCase() + apellido1.charAt(0).toUpperCase() + apellido2.charAt(0).toUpperCase();
                                alert("Tu contraseña es: " + contraseña);
                                break;
                            case '2':
                                contraseña = nombre.charAt(0).toUpperCase() + nombre.charAt(1).toUpperCase() + apellido1.charAt(0).toLowerCase() + apellido1.charAt(1).toLowerCase() + apellido2.charAt(0).toLowerCase() + apellido2.charAt(1).toLowerCase();
                                alert("Tu contraseña es: " + contraseña);
                                break;
                            case '3':
                                for (let i = 0; i < nombre.length; i++) {
                                    contraseña += nombre.charAt(i) + i;
                                }
                                alert("Tu contraseña es: " + contraseña);
                                break;
                            default:
                                alert("opcion no valida");
                                break;
                        }
                        usuarios.set(nombreApellidos, contraseña);
                    } else {
                        alert("Usuario ya insertado");
                    }
                    break;
                case '2':
                    nombreApellidos = prompt("Nombre usuario:");
                    if (usuarios.has(nombreApellidos)) {
                        contraseña = prompt("contraseña:");
                        usuarios.set(nombreApellidos, contraseña);
                    } else {
                        alert("Ese usuario no existe");
                    }
                    break;
                case '3':
                    nombreApellidos = prompt("Nombre usuario");
                    if (usuarios.has(nombreApellidos)) {
                        usuarios.delete(nombreApellidos);
                    } else {
                        alert("Ese usuario no existe");
                    }
                    break;
                case '4':
                    let resultado = "";
                    for ([clave, valor] of usuarios) {
                        resultado += clave + " => " + valor + '\n';
                    }
                    alert(resultado);
                    break;
                case '5':
                    alert('Has elegido salir');
                    break;
                default:
                    alert("opcion no valida");
                    break;
            }
        } while (opcion != 5);
    </script>
</body>

</html>