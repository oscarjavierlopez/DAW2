<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ejercicio 1</title>
</head>

<body>
    <script>
        let usuarios = new Map([
            ["Oscar Lopez Gomez", "oscarLG"],
            ["Pepe Lopez Gomez", "pepeLG"]
        ]);
        let opcion = prompt("Menú: \n 1. Añadir usuario (comprobando previamente si existe o no) \n 2. Modificar usuario \n 3. Eliminar un usuario \n 4. Mostrar la colección entera de usuarios y con su nombre de usuario");
        let nombreApellidos = "";
        let contraseña = "";
        switch (opcion) {
            case '1':
                nombreApellidos = prompt("Inserte nombre y apellidos:");
                if (!usuarios.has(nombreApellidos)) {
                    alert("Tamaño: " + nombreApellidos.split("").filter((caracter) => caracter !== " ").length);
                    alert("Cadena en mayusculas: " + nombreApellidos.toUpperCase() + " Cadena en minúsculas: " + nombreApellidos.toLowerCase());
                    let palabras = nombreApellidos.split(" ");
                    alert("Nombre: " + palabras[0] + '\n'
                        + "apellido 1: " + palabras[1] + '\n'
                        + "apellido 2: " + palabras[2]
                    );
                    let opcionContraseña = prompt(" 1. Nombre completo + Iniciales apellidos \n2. Dos iniciales de nombre y de los dos apellidos\n 3. Letra de nombre + posición ");
                    contraseña = "";
                    switch (opcionContraseña) {
                        case '1':
                            contraseña = palabras[0].toLowerCase() + palabras[1][0].toUpperCase() + palabras[2][0].toUpperCase();
                            alert("Tu contraseña es: " + contraseña);
                            break;
                        case '2':
                            contraseña = palabras[0][0].toUpperCase() + palabras[0][1].toUpperCase() + palabras[1][0].toLowerCase() + palabras[1][1].toLowerCase() + palabras[2][0].toLowerCase() + palabras[2][1].toLowerCase();
                            alert("Tu contraseña es: " + contraseña);
                            break;
                        case '3':
                            for (let i = 0; i < palabras[0].length; i++) {
                                contraseña += palabras[0][i] + i;
                            }
                            alert("Tu contraseña es: " + contraseña);
                            break;
                        default:
                            alert("opcion no valida");
                            break;
                    }
                    usuarios.set(nombreApellidos, contraseña);
                } else {
                    alert("Usuario ya insertado");
                }
                break;
            case '2':
                nombreApellidos = prompt("Nombre usuario:");
                if (usuarios.has(nombreApellidos)) {
                    contraseña = prompt("contraseña:");
                    usuarios.set(nombreApellidos, contraseña);
                } else {
                    alert("Ese usuario no existe");
                }
                break;
            case '3':
                nombreApellidos = prompt("Nombre usuario");
                if (usuarios.has(nombreApellidos)) {
                    usuarios.delete(nombreApellidos);
                } else {
                    alert("Ese usuario no existe");
                }
                break;
            case '4':
                let resultado = "";
                for ([clave, valor] of usuarios) {
                    resultado += clave + " => " + valor + '\n';
                }
                alert(resultado);
                break;
            default:
                alert("opcion no valida");
                break;
        }
    </script>
</body>

</html>